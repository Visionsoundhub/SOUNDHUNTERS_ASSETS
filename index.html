<!DOCTYPE html>
<html lang="el" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SOUND HUNTERS</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Inter', sans-serif;
            -webkit-tap-highlight-color: transparent;
            background-image: url('https://raw.githubusercontent.com/Visionsoundhub/SOUNDHUNTERS_ASSETS/main/sound_hunters_bg.jpg');
            background-size: cover;
            background-position: center center;
            background-attachment: fixed;
            transition: background-image 0.7s ease-in-out;
        }
        
        @keyframes pulse-glow-green {
            0%, 100% {
                transform: scale(1);
                box-shadow: 0 0 20px rgba(163, 230, 53, 0.4);
            }
            50% {
                transform: scale(1.05);
                box-shadow: 0 0 35px rgba(163, 230, 53, 0.7);
            }
        }
        .animate-pulse-glow-green {
            animation: pulse-glow-green 3s infinite ease-in-out;
        }

        @keyframes pulse-glow-orange {
            0%, 100% {
                transform: scale(1);
                box-shadow: 0 0 15px rgba(251, 146, 60, 0.35); /* Reduced orange glow */
            }
            50% {
                transform: scale(1.05);
                box-shadow: 0 0 30px rgba(251, 146, 60, 0.6); /* Reduced brighter orange glow */
            }
        }
        .animate-pulse-glow-orange {
            animation: pulse-glow-orange 3.2s infinite ease-in-out;
        }
    </style>
    <script>
        tailwind.config = {
            darkMode: 'class',
        }
    </script>
</head>
<body class="bg-custom-jungle text-white antialiased">

    <!-- Splash Screen -->
    <main id="splash-screen" class="min-h-screen flex flex-col items-center justify-center p-8 text-center transition-opacity duration-1000 bg-black bg-opacity-30">
        <div class="w-96 h-96 mb-8">
            <img src="https://raw.githubusercontent.com/Visionsoundhub/SOUNDHUNTERS_ASSETS/main/logook.png" alt="Sound Hunters Logo" class="w-full h-full object-contain drop-shadow-[0_0_35px_rgba(163,230,53,0.5)]">
        </div>
        <p class="text-lg md:text-xl text-white max-w-xl" style="text-shadow: 2px 2px 4px rgba(0,0,0,0.7);">
            Ανακάλυψε, ηχογράφησε και δημιούργησε τον δικό σου κόσμο από ήχους. Η περιπέτεια ξεκινάει τώρα.
        </p>
        <div class="mt-12">
            <button id="start-button" class="px-10 py-5 bg-gradient-to-r from-yellow-400 to-green-500 hover:from-yellow-500 hover:to-green-600 text-gray-900 font-bold rounded-full text-xl shadow-lg animate-pulse-glow-green transition-transform duration-300 hover:scale-110">
                Άρχισε την Εξερεύνηση
            </button>
        </div>
    </main>
    
    <!-- Mode Selection Screen -->
    <div id="mode-selection-screen" class="hidden min-h-screen flex flex-col items-center justify-center p-8 text-center opacity-0 transition-opacity duration-1000 bg-black bg-opacity-40">
        <h2 class="text-5xl font-black text-white mb-12" style="text-shadow: 2px 2px 4px rgba(0,0,0,0.5);">Επίλεξε Λειτουργία</h2>
        <div class="flex flex-col md:flex-row gap-8">
            <!-- Free Exploration Button -->
            <button id="free-exploration-button" class="w-64 h-24 bg-gradient-to-r from-yellow-400 to-green-500 hover:from-yellow-500 hover:to-green-600 text-gray-900 font-bold rounded-full text-xl shadow-lg animate-pulse-glow-green transition-transform duration-300 hover:scale-110 flex flex-col items-center justify-center">
                <span class="text-3xl">🧭</span>
                <span>Ελεύθερη Εξερεύνηση</span>
            </button>
            <!-- Game Mode Button -->
            <button id="game-mode-button" class="w-64 h-24 bg-gradient-to-r from-amber-500 to-orange-600 hover:from-amber-600 hover:to-orange-700 text-white font-bold rounded-full text-xl shadow-lg animate-pulse-glow-orange transition-transform duration-300 hover:scale-110 flex flex-col items-center justify-center">
                 <span class="text-3xl">🏆</span>
                 <span>Λειτουργία Παιχνιδιού</span>
            </button>
        </div>
    </div>

    <!-- App Screen Placeholder (e.g., Recording Screen) -->
    <div id="app-screen" class="hidden min-h-screen flex flex-col items-center justify-center p-8 text-center opacity-0 transition-opacity duration-1000">
        <h2 class="text-4xl font-bold text-white">Η Εξερεύνηση Ξεκίνησε...</h2>
        <button class="back-to-mode-selection mt-8 px-6 py-3 bg-gray-500 hover:bg-gray-600 text-white font-bold rounded-full text-lg shadow-lg">Πίσω</button>
    </div>

    <!-- Audio Controls -->
    <div id="audio-controls" class="hidden fixed bottom-5 left-5 opacity-0 transition-opacity duration-1000">
         <button id="volume-cycle-button" class="p-4 text-white hover:text-lime-400 transition-colors rounded-full bg-black/30 backdrop-blur-sm transform hover:scale-110">
            <!-- Speaker Icon will be inserted here by JS -->
        </button>
    </div>

    <!-- Tone.js for sound -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.77/Tone.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const startButton = document.getElementById('start-button');
            const splashScreen = document.getElementById('splash-screen');
            const appScreen = document.getElementById('app-screen');
            const modeSelectionScreen = document.getElementById('mode-selection-screen');
            const freeExplorationButton = document.getElementById('free-exploration-button');
            const gameModeButton = document.getElementById('game-mode-button');
            const backToModeButtons = document.querySelectorAll('.back-to-mode-selection');
            
            const audioControls = document.getElementById('audio-controls');
            const volumeCycleButton = document.getElementById('volume-cycle-button');

            const musicUrl = "https://raw.githubusercontent.com/Visionsoundhub/SOUNDHUNTERS_ASSETS/main/SOUND%20HUNTER%20MAIN.mp3";
            
            const defaultBgUrl = 'https://raw.githubusercontent.com/Visionsoundhub/SOUNDHUNTERS_ASSETS/main/sound_hunters_bg.jpg';
            const jungleBgUrl = 'https://raw.githubusercontent.com/Visionsoundhub/SOUNDHUNTERS_ASSETS/main/sound_hunters_jungle.jpg';
            const bridgeBgUrl = 'https://raw.githubusercontent.com/Visionsoundhub/SOUNDHUNTERS_ASSETS/main/sound_hunters_bridge.jpg';
            
            const speakerHighIcon = `<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"></path></svg>`;
            const speakerLowIcon = `<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464a5 5 0 010 7.072M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"></path></svg>`;
            const speakerOffIcon = `<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z" clip-rule="evenodd" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 14l-2-2m0 0l-2-2m2 2l2-2m-2 2l-2 2"></path></svg>`;

            const NORMAL_VOLUME = -18;
            const LOW_VOLUME = -26;
            let volumeState = 0;

            let backgroundMusic = new Tone.Player({
                url: musicUrl,
                loop: true,
                fadeOut: 1.5,
                volume: NORMAL_VOLUME
            }).toDestination();
            
            function updateVolumeState() {
                switch (volumeState) {
                    case 0: backgroundMusic.volume.value = NORMAL_VOLUME; backgroundMusic.mute = false; volumeCycleButton.innerHTML = speakerHighIcon; break;
                    case 1: backgroundMusic.volume.value = LOW_VOLUME; backgroundMusic.mute = false; volumeCycleButton.innerHTML = speakerLowIcon; break;
                    case 2: backgroundMusic.mute = true; volumeCycleButton.innerHTML = speakerOffIcon; break;
                }
            }
            updateVolumeState();

            function transitionToScreen(screenToShow) {
                document.querySelectorAll('#splash-screen, #mode-selection-screen, #app-screen').forEach(el => {
                    if (!el.classList.contains('hidden')) el.classList.add('opacity-0');
                });
                setTimeout(() => {
                    splashScreen.style.display = 'none';
                    modeSelectionScreen.classList.add('hidden');
                    appScreen.classList.add('hidden');
                    screenToShow.classList.remove('hidden');
                    setTimeout(() => screenToShow.classList.remove('opacity-0'), 50); 
                }, 600);
            }

            startButton.addEventListener('click', async () => {
                await Tone.start();
                if (!backgroundMusic.loaded) await backgroundMusic.load(musicUrl);
                backgroundMusic.start();
                audioControls.classList.remove('hidden');
                setTimeout(() => audioControls.classList.remove('opacity-0'), 50);
                transitionToScreen(modeSelectionScreen);
            });

            freeExplorationButton.addEventListener('click', () => transitionToScreen(appScreen));
            gameModeButton.addEventListener('click', () => transitionToScreen(appScreen)); // Placeholder
            backToModeButtons.forEach(button => button.addEventListener('click', () => transitionToScreen(modeSelectionScreen)));

            volumeCycleButton.addEventListener('click', () => {
                volumeState = (volumeState + 1) % 3;
                updateVolumeState();
            });

            gameModeButton.addEventListener('mouseover', () => { document.body.style.backgroundImage = `url('${bridgeBgUrl}')`; });
            gameModeButton.addEventListener('mouseout', () => { document.body.style.backgroundImage = `url('${defaultBgUrl}')`; });
            freeExplorationButton.addEventListener('mouseover', () => { document.body.style.backgroundImage = `url('${jungleBgUrl}')`; });
            freeExplorationButton.addEventListener('mouseout', () => { document.body.style.backgroundImage = `url('${defaultBgUrl}')`; });

            backgroundMusic.load(musicUrl).then(() => {
                 console.log("Background music pre-loaded and ready!");
            }).catch(err => {
                console.error("Error pre-loading music:", err);
            });
        });
    </script>

</body>
</html>
